exports.id=236,exports.ids=[236],exports.modules={5729:(e,t,r)=>{Promise.resolve().then(r.bind(r,3202)),Promise.resolve().then(r.bind(r,706)),Promise.resolve().then(r.bind(r,6361)),Promise.resolve().then(r.bind(r,8483)),Promise.resolve().then(r.bind(r,9703)),Promise.resolve().then(r.bind(r,640)),Promise.resolve().then(r.bind(r,3347)),Promise.resolve().then(r.bind(r,8687)),Promise.resolve().then(r.bind(r,7361)),Promise.resolve().then(r.bind(r,8079)),Promise.resolve().then(r.bind(r,3208)),Promise.resolve().then(r.bind(r,3050)),Promise.resolve().then(r.bind(r,7939)),Promise.resolve().then(r.bind(r,1643)),Promise.resolve().then(r.bind(r,7346)),Promise.resolve().then(r.bind(r,1197)),Promise.resolve().then(r.bind(r,3839)),Promise.resolve().then(r.bind(r,9073)),Promise.resolve().then(r.bind(r,61)),Promise.resolve().then(r.bind(r,7950)),Promise.resolve().then(r.bind(r,8050)),Promise.resolve().then(r.bind(r,2065)),Promise.resolve().then(r.bind(r,5901)),Promise.resolve().then(r.bind(r,9461)),Promise.resolve().then(r.bind(r,1285)),Promise.resolve().then(r.bind(r,51))},6217:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9489,23)),Promise.resolve().then(r.t.bind(r,6225,23)),Promise.resolve().then(r.t.bind(r,5964,23)),Promise.resolve().then(r.t.bind(r,5804,23)),Promise.resolve().then(r.t.bind(r,7255,23)),Promise.resolve().then(r.t.bind(r,1021,23))},3202:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(7685),o=r(3810),a=r(5509),n=r(5817),i=r(5504),l=r(3655),d=r(6216),c=r(436),u=r(4351),m=r(1830);let g=u.zt,f=u.fC,h=u.xz,p=o.forwardRef(({className:e,sideOffset:t=4,...r},o)=>s.jsx(u.VY,{ref:o,sideOffset:t,className:(0,m.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));p.displayName=u.VY.displayName,r(2641);var b=(0,r(6077).$)("3cf5e59cb97414eb06801cfd395416ab9d655b58");function v({supabase:e}){let t=(0,n.useSearchParams)(),[r,a]=(0,o.useState)(""),[u,m]=(0,o.useState)(5),v=function(e,t=1e3,r=5){let[s,a]=(0,o.useState)(!1),n=(0,o.useRef)(),i=(0,o.useRef)();return(0,o.useEffect)(()=>{i.current=e},[e]),{start:()=>{a(!0);let e=t*r;n.current=window.setInterval(()=>{(e-=1e3)<=0&&(clearInterval(n.current),a(!1)),i.current()},1e3)},stop:()=>{a(!1),clearInterval(n.current)},toggle:()=>{a(e=>!e)},active:s}}(()=>m(e=>e-1),1e3);(0,o.useEffect)(()=>((async()=>{let e=await b(t.get("uid")??"");e&&a(e.email)})(),v.start(),v.stop),[]);let x=async()=>{try{if(!r)return;let t=()=>new Promise(async t=>{await e.auth.resend({type:"signup",email:r,options:{emailRedirectTo:"/dashboard"}}),t()});console.log(t),m(5),v.start(),c.A.promise(t,{loading:"Sending verification email...",success:()=>`Check your inbox at ${r} to verify your email.`,classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:pointer-events-auto"}})}catch(e){console.error(e)}};return(0,s.jsxs)(i.$N,{className:"flex flex-col gap-y-6 text-white",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-2 items-center justify-center",children:[s.jsx("h2",{className:"text-xl font-poppins mt-2",children:"Check your email"}),(0,s.jsxs)("span",{className:"flex-wrap text-[0.65rem] font-poppins leading-relaxed font-light flex justify-center",children:["We have sent an email to\xa0",s.jsx("span",{className:"font-medium",children:r||s.jsx(l.BGW,{className:"w-3 h-3 animate-spin"})}),"Click the link to verify your account."]})]}),(0,s.jsxs)("div",{className:"flex gap-x-4 justify-center w-full",children:[s.jsx(g,{delayDuration:0,children:(0,s.jsxs)(f,{children:[s.jsx(h,{children:s.jsx(d.z,{onClick:x,className:`
									w-full bg-electric-violet-500 text-white duration-300 hover:bg-electric-violet-500/60 
									${0==u?"hover:cursor-pointer":"hover:cursor-not-allowed"}
								`,autoFocus:!1,disabled:0!=u,children:"Resend Email"})}),0!=u?s.jsx(p,{side:"bottom",children:(0,s.jsxs)("p",{className:"text-xs",children:["Resend Email in ",u," seconds"]})}):""]})}),s.jsx(d.z,{className:"w-fit bg-transparent text-white border border-gray-700 hover:text-pink hover:bg-transparent hover:border-pink duration-300",children:"Update Email"})]})]})}var x=r(706);function w({currentUserObject:e}){let t=(0,n.usePathname)(),r=(0,n.useRouter)(),c=(0,n.useSearchParams)(),u=(0,a.e)(),[m,g]=(0,o.useState)(!0),[f,h]=(0,o.useState)(!1);(0,o.useEffect)(()=>{h(!0),e&&c.get("waiting_for_auth")&&r.replace("/pricing",void 0)},[]),(0,o.useEffect)(()=>{let e=u.channel("User Email Authenticated").on("postgres_changes",{event:"*",schema:"public",table:"users",filter:`uid=eq.${c.get("uid")??null}`},e=>{!0===e.new.hasAuthenticatedEmail?(g(!1),r.replace("/pricing",void 0)):g(!0)}).subscribe();return()=>{e.unsubscribe()}},[u,t]);let[p,b]=(0,o.useState)(!1),[w,N]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{b(!1),c.get("uid")&&N(!0)},[t,c]),"/sign-up"===t||e||c.get("access_token"))?"":f&&null===e?s.jsx(s.Fragment,{children:(0,s.jsxs)(i.Vq,{modal:!0,defaultOpen:!0,open:m,children:[s.jsx(x.Toaster,{closeButton:!0,className:"z-[100] group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:pointer-events-auto"}),s.jsx(i.cZ,{hidden:!1,className:"bg-black-100 border-2 border-black-200 rounded-lg max-w-[23rem] py-8",showCloseButton:!1,children:w?s.jsx(v,{supabase:u}):(0,s.jsxs)("div",{className:"flex flex-col gap-y-3 items-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold text-center",children:"You need to log in"}),s.jsx("p",{className:"text-center",children:"Click the button below to log in."}),s.jsx(d.z,{className:"border border-white w-fit px-6 bg-black",onClick:()=>{b(!0),r.push("/sign-up")},children:p?s.jsx(l.BGW,{className:"w-3 h-3 animate-spin"}):"Log in"})]})})]})}):null}},6216:(e,t,r)=>{"use strict";r.d(t,{z:()=>u});var s=r(7685),o=r(3810),a=r(7870),n=r(3406),i=r(7967),l=r(5759),d=r(1830);let c=(0,n.j)("relative w-full inline-flex items-center font-kanit justify-center whitespace-nowrap rounded-2xl hover:rounded-xl duration-300 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"border-2 border-electric-violet-300 hover:bg-electric-violet-500 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-electric-violet-500 hover:bg-electric-violet-600 text-white border-2 border-electric-violet-300",tertiary:"bg-electric-violet-500 text-white hover:bg-white hover:text-black duration-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,special:n,...u},m)=>{let g=o?a.g7:"button";return s.jsx("div",{className:n?"relative w-full":"",children:(0,s.jsxs)(l.E.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[s.jsx(g,{className:(0,d.cn)(c({variant:t,size:r,className:e})),ref:m,...u}),n?s.jsx(i.U,{className:"absolute -top-2.5 right-2 size-6 text-yellow-400 "}):""]})})});u.displayName="Button"},5504:(e,t,r)=>{"use strict";r.d(t,{$N:()=>g,Vq:()=>l,cZ:()=>m,hg:()=>d});var s=r(7685),o=r(3810),a=r(5639),n=r(4654),i=r(1830);let l=a.fC,d=a.xz,c=a.h_;a.x8;let u=o.forwardRef(({className:e,...t},r)=>s.jsx(a.aV,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=a.aV.displayName;let m=o.forwardRef(({showCloseButton:e=!0,className:t,children:r,...o},l)=>(0,s.jsxs)(c,{children:[s.jsx(u,{}),(0,s.jsxs)(a.VY,{ref:l,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[r,e?(0,s.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}):""]})]}));m.displayName=a.VY.displayName;let g=o.forwardRef(({className:e,...t},r)=>s.jsx(a.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));g.displayName=a.Dx.displayName,o.forwardRef(({className:e,...t},r)=>s.jsx(a.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName=a.dk.displayName},7967:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var s=r(7685);function o(e){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 16 16",...e,children:s.jsx("path",{fill:"currentColor",d:"M5.398 10.807a1.039 1.039 0 0 0 1.204-.003c.178-.13.313-.31.387-.518l.447-1.373c.115-.344.308-.657.564-.914a2.35 2.35 0 0 1 .913-.565l1.391-.451a1.047 1.047 0 0 0 .645-.67a1.038 1.038 0 0 0-.689-1.31l-1.375-.447a2.338 2.338 0 0 1-1.48-1.477l-.452-1.388a1.043 1.043 0 0 0-1.717-.39a1.054 1.054 0 0 0-.256.407l-.457 1.4a2.323 2.323 0 0 1-1.44 1.449l-1.391.448a1.061 1.061 0 0 0-.644.67a1.051 1.051 0 0 0 .144.918c.128.18.309.315.517.386l1.374.445a2.331 2.331 0 0 1 1.481 1.488l.452 1.391c.072.204.206.38.382.504m6.137 4.042a.8.8 0 0 0 .926.002a.803.803 0 0 0 .3-.4l.248-.762a1.066 1.066 0 0 1 .68-.68l.772-.252a.793.793 0 0 0 .531-.64a.796.796 0 0 0-.554-.881l-.764-.249a1.075 1.075 0 0 1-.68-.678l-.252-.773a.784.784 0 0 0-.293-.39a.796.796 0 0 0-1.03.085a.8.8 0 0 0-.195.315l-.247.762a1.071 1.071 0 0 1-.665.679l-.773.252a.797.797 0 0 0-.543.762a.799.799 0 0 0 .551.756l.763.247c.159.054.304.143.422.261c.119.119.207.263.258.422l.253.774a.8.8 0 0 0 .292.388"})})}},706:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Toaster:()=>n});var s=r(7685),o=r(3818),a=r(436);let n=({...e})=>{let{theme:t="system"}=(0,o.F)();return s.jsx(a.x,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},1830:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(1261),o=r(6510);function a(...e){return(0,o.m6)((0,s.W)(e))}},5509:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var s=r(2763);function o(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL??"",t=process.env.NEXT_PUBLIC_SUPABASE_KEY??"";return(0,s.AY)(e,t)}},149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k,metadata:()=>P});var s=r(6491),o=r(9566),a=r.n(o),n=r(5783),i=r.n(n),l=r(5348),d=r.n(l),c=r(2207),u=r.n(c);r(3310);var m=r(1951),g=r(599);let f=(0,g.createProxy)(String.raw`/Users/loganford/Desktop/draggle/apps/dashboard/components/ui/sonner.tsx`),{__esModule:h,$$typeof:p}=f;f.default;let b=(0,g.createProxy)(String.raw`/Users/loganford/Desktop/draggle/apps/dashboard/components/ui/sonner.tsx#Toaster`);var v=r(769);let x=(0,g.createProxy)(String.raw`/Users/loganford/Desktop/draggle/apps/dashboard/components/modals/user-auth.tsx`),{__esModule:w,$$typeof:N}=x,j=x.default;async function y({children:e}){let t=(0,v.e)(),{data:r,error:o}=await t.auth.getUser();return(0,s.jsxs)(s.Fragment,{children:[s.jsx(j,{currentUserObject:r.user}),e]})}(function(){var e=Error("Cannot find module './globals.css'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/dashboard/store/store-provider'");throw e.code="MODULE_NOT_FOUND",e}();let P={title:"Next.js",description:"Generated by Next.js"};function k({children:e}){return s.jsx(Object(function(){var e=Error("Cannot find module '@/dashboard/store/store-provider'");throw e.code="MODULE_NOT_FOUND",e}()),{children:s.jsx("html",{lang:"en",className:`${a().variable} ${i().variable} ${d().variable} ${u().variable}`,children:s.jsx("body",{className:"bg-gradient-to-b from-black-200 to-electric-violet-950 min-h-screen",suppressHydrationWarning:!0,children:s.jsx(y,{children:s.jsx(m.Q2,{children:(0,s.jsxs)("div",{className:"flex flex-col px-20",children:[e,s.jsx(b,{closeButton:!0,className:"z-[100] group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:pointer-events-auto"})]})})})})})})}},1771:(e,t,r)=>{"use strict";r.d(t,{prisma:()=>o});var s=r(3524);let o=globalThis.prisma||new s.PrismaClient},769:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var s=r(2721),o=r(7167);function a(){let e=(0,o.cookies)(),t=process.env.NEXT_PUBLIC_SUPABASE_URL,r=process.env.NEXT_PUBLIC_SUPABASE_KEY;if(!t||!r)throw Error("Missing env variables for Supabase");return(0,s.lx)(t,r,{cookies:{get:t=>e.get(t)?.value,set(t,r,s){try{e.set({name:t,value:r,...s})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}},8351:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>i,getUserFromDb:()=>n});var s=r(105);r(1838);var o=r(1771),a=r(6487);let n=(0,s.registerServerReference)("c567e28344248ca88dbe0e42d38b97a0b3627cce",i);async function i(e){let t=await o.prisma.users.findFirst({where:{uid:e}});if(t)return t}(0,a.ensureServerEntryExports)([n]),(0,s.registerServerReference)("3cf5e59cb97414eb06801cfd395416ab9d655b58",n)}};