(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3967:function(e,t,r){Promise.resolve().then(r.bind(r,7532)),Promise.resolve().then(r.bind(r,4429)),Promise.resolve().then(r.bind(r,8697)),Promise.resolve().then(r.t.bind(r,6302,23)),Promise.resolve().then(r.bind(r,2443)),Promise.resolve().then(r.bind(r,921)),Promise.resolve().then(r.bind(r,9523)),Promise.resolve().then(r.bind(r,4223)),Promise.resolve().then(r.bind(r,4024)),Promise.resolve().then(r.bind(r,8151)),Promise.resolve().then(r.bind(r,3030)),Promise.resolve().then(r.bind(r,5523)),Promise.resolve().then(r.bind(r,1013)),Promise.resolve().then(r.bind(r,3666)),Promise.resolve().then(r.bind(r,6758)),Promise.resolve().then(r.bind(r,8200)),Promise.resolve().then(r.bind(r,6376)),Promise.resolve().then(r.bind(r,7061)),Promise.resolve().then(r.bind(r,6468)),Promise.resolve().then(r.bind(r,7986)),Promise.resolve().then(r.bind(r,2013)),Promise.resolve().then(r.bind(r,4641)),Promise.resolve().then(r.bind(r,5178)),Promise.resolve().then(r.bind(r,4954)),Promise.resolve().then(r.bind(r,6152)),Promise.resolve().then(r.bind(r,45)),Promise.resolve().then(r.bind(r,3271)),Promise.resolve().then(r.bind(r,2378)),Promise.resolve().then(r.t.bind(r,5675,23)),Promise.resolve().then(r.t.bind(r,1994,23)),Promise.resolve().then(r.t.bind(r,9771,23)),Promise.resolve().then(r.t.bind(r,5467,23)),Promise.resolve().then(r.t.bind(r,8210,23))},7532:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var o=r(7573),s=r(7653),n=r(4802),a=r(4603),i=r(5861),l=r(3552),d=r(2388),c=r(1095),u=r(6711),f=r(5237);let m=u.zt,h=u.fC,g=u.xz,p=s.forwardRef(({className:e,sideOffset:t=4,...r},s)=>(0,o.jsx)(u.VY,{ref:s,sideOffset:t,className:(0,f.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));p.displayName=u.VY.displayName,r(1378);var b=(0,r(5191).$)("3cf5e59cb97414eb06801cfd395416ab9d655b58");function v({supabase:e}){let t=(0,a.useSearchParams)(),[r,n]=(0,s.useState)(""),[u,f]=(0,s.useState)(5),v=function(e,t=1e3,r=5){let[o,n]=(0,s.useState)(!1),a=(0,s.useRef)(),i=(0,s.useRef)();return(0,s.useEffect)(()=>{i.current=e},[e]),{start:()=>{n(!0);let e=t*r;a.current=window.setInterval(()=>{(e-=1e3)<=0&&(clearInterval(a.current),n(!1)),i.current()},1e3)},stop:()=>{n(!1),clearInterval(a.current)},toggle:()=>{n(e=>!e)},active:o}}(()=>f(e=>e-1),1e3);(0,s.useEffect)(()=>((async()=>{let e=await b(t.get("uid")??"");e&&n(e.email)})(),v.start(),v.stop),[]);let x=async()=>{try{if(!r)return;let t=()=>new Promise(async t=>{await e.auth.resend({type:"signup",email:r,options:{emailRedirectTo:"/dashboard"}}),t()});console.log(t),f(5),v.start(),c.A.promise(t,{loading:"Sending verification email...",success:()=>`Check your inbox at ${r} to verify your email.`,classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:pointer-events-auto"}})}catch(e){console.error(e)}};return(0,o.jsxs)(i.$N,{className:"flex flex-col gap-y-6 text-white",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-y-2 items-center justify-center",children:[(0,o.jsx)("h2",{className:"text-xl font-poppins mt-2",children:"Check your email"}),(0,o.jsxs)("span",{className:"flex-wrap text-[0.65rem] font-poppins leading-relaxed font-light flex justify-center",children:["We have sent an email to\xa0",(0,o.jsx)("span",{className:"font-medium",children:r||(0,o.jsx)(l.BGW,{className:"w-3 h-3 animate-spin"})}),"Click the link to verify your account."]})]}),(0,o.jsxs)("div",{className:"flex gap-x-4 justify-center w-full",children:[(0,o.jsx)(m,{delayDuration:0,children:(0,o.jsxs)(h,{children:[(0,o.jsx)(g,{children:(0,o.jsx)(d.z,{onClick:x,className:`
									w-full bg-electric-violet-500 text-white duration-300 hover:bg-electric-violet-500/60 
									${0==u?"hover:cursor-pointer":"hover:cursor-not-allowed"}
								`,autoFocus:!1,disabled:0!=u,children:"Resend Email"})}),0!=u?(0,o.jsx)(p,{side:"bottom",children:(0,o.jsxs)("p",{className:"text-xs",children:["Resend Email in ",u," seconds"]})}):""]})}),(0,o.jsx)(d.z,{className:"w-fit bg-transparent text-white border border-gray-700 hover:text-pink hover:bg-transparent hover:border-pink duration-300",children:"Update Email"})]})]})}var x=r(4429);function w({currentUserObject:e}){let t=(0,a.usePathname)(),r=(0,a.useRouter)(),c=(0,a.useSearchParams)(),u=(0,n.e)(),[f,m]=(0,s.useState)(!0),[h,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g(!0),e&&c.get("waiting_for_auth")&&r.replace("/pricing",void 0)},[]),(0,s.useEffect)(()=>{let e=u.channel("User Email Authenticated").on("postgres_changes",{event:"*",schema:"public",table:"users",filter:`uid=eq.${c.get("uid")??null}`},e=>{!0===e.new.hasAuthenticatedEmail?(m(!1),r.replace("/pricing",void 0)):m(!0)}).subscribe();return()=>{e.unsubscribe()}},[u,t]);let[p,b]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{b(!1),c.get("uid")&&y(!0)},[t,c]),"/sign-up"===t||e||c.get("access_token"))?"":h&&null===e?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.Vq,{modal:!0,defaultOpen:!0,open:f,children:[(0,o.jsx)(x.Toaster,{closeButton:!0,className:"z-[100] group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:pointer-events-auto"}),(0,o.jsx)(i.cZ,{hidden:!1,className:"bg-black-100 border-2 border-black-200 rounded-lg max-w-[23rem] py-8",showCloseButton:!1,children:w?(0,o.jsx)(v,{supabase:u}):(0,o.jsxs)("div",{className:"flex flex-col gap-y-3 items-center text-white",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-center",children:"You need to log in"}),(0,o.jsx)("p",{className:"text-center",children:"Click the button below to log in."}),(0,o.jsx)(d.z,{className:"border border-white w-fit px-6 bg-black",onClick:()=>{b(!0),r.push("/sign-up")},children:p?(0,o.jsx)(l.BGW,{className:"w-3 h-3 animate-spin"}):"Log in"})]})})]})}):null}},2388:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var o=r(7573),s=r(7653),n=r(5511),a=r(7521),i=r(7118),l=r(7439),d=r(5237);let c=(0,a.j)("relative w-full inline-flex items-center font-kanit justify-center whitespace-nowrap rounded-2xl hover:rounded-xl duration-300 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"border-2 border-electric-violet-300 hover:bg-electric-violet-500 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-electric-violet-500 hover:bg-electric-violet-600 text-white border-2 border-electric-violet-300",tertiary:"bg-electric-violet-500 text-white hover:bg-white hover:text-black duration-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,special:a,...u},f)=>{let m=s?n.g7:"button";return(0,o.jsx)("div",{className:a?"relative w-full":"",children:(0,o.jsxs)(l.E.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[(0,o.jsx)(m,{className:(0,d.cn)(c({variant:t,size:r,className:e})),ref:f,...u}),a?(0,o.jsx)(i.U,{className:"absolute -top-2.5 right-2 size-6 text-yellow-400 "}):""]})})});u.displayName="Button"},5861:function(e,t,r){"use strict";r.d(t,{$N:function(){return m},Vq:function(){return l},cZ:function(){return f},hg:function(){return d}});var o=r(7573),s=r(7653),n=r(7472),a=r(7037),i=r(5237);let l=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef(({className:e,...t},r)=>(0,o.jsx)(n.aV,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.aV.displayName;let f=s.forwardRef(({showCloseButton:e=!0,className:t,children:r,...s},l)=>(0,o.jsxs)(c,{children:[(0,o.jsx)(u,{}),(0,o.jsxs)(n.VY,{ref:l,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[r,e?(0,o.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,o.jsx)(a.Z,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]}):""]})]}));f.displayName=n.VY.displayName;let m=s.forwardRef(({className:e,...t},r)=>(0,o.jsx)(n.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));m.displayName=n.Dx.displayName,s.forwardRef(({className:e,...t},r)=>(0,o.jsx)(n.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName=n.dk.displayName},7118:function(e,t,r){"use strict";r.d(t,{U:function(){return s}});var o=r(7573);function s(e){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 16 16",...e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.398 10.807a1.039 1.039 0 0 0 1.204-.003c.178-.13.313-.31.387-.518l.447-1.373c.115-.344.308-.657.564-.914a2.35 2.35 0 0 1 .913-.565l1.391-.451a1.047 1.047 0 0 0 .645-.67a1.038 1.038 0 0 0-.689-1.31l-1.375-.447a2.338 2.338 0 0 1-1.48-1.477l-.452-1.388a1.043 1.043 0 0 0-1.717-.39a1.054 1.054 0 0 0-.256.407l-.457 1.4a2.323 2.323 0 0 1-1.44 1.449l-1.391.448a1.061 1.061 0 0 0-.644.67a1.051 1.051 0 0 0 .144.918c.128.18.309.315.517.386l1.374.445a2.331 2.331 0 0 1 1.481 1.488l.452 1.391c.072.204.206.38.382.504m6.137 4.042a.8.8 0 0 0 .926.002a.803.803 0 0 0 .3-.4l.248-.762a1.066 1.066 0 0 1 .68-.68l.772-.252a.793.793 0 0 0 .531-.64a.796.796 0 0 0-.554-.881l-.764-.249a1.075 1.075 0 0 1-.68-.678l-.252-.773a.784.784 0 0 0-.293-.39a.796.796 0 0 0-1.03.085a.8.8 0 0 0-.195.315l-.247.762a1.071 1.071 0 0 1-.665.679l-.773.252a.797.797 0 0 0-.543.762a.799.799 0 0 0 .551.756l.763.247c.159.054.304.143.422.261c.119.119.207.263.258.422l.253.774a.8.8 0 0 0 .292.388"})})}},4429:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return a}});var o=r(7573),s=r(8355),n=r(1095);let a=({...e})=>{let{theme:t="system"}=(0,s.F)();return(0,o.jsx)(n.x,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},5237:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var o=r(4115),s=r(8352);function n(...e){return(0,s.m6)((0,o.W)(e))}},8697:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var o=r(7573);r(7653);var s=r(4953),n=r(2304),a=r(8591);let i=(0,n.xC)({reducer:{user:a.ZP},devTools:!0,middleware:e=>e({serializableCheck:!1})});function l({children:e}){return(0,o.jsx)(s.zt,{store:i,children:e})}},8591:function(e,t,r){"use strict";r.d(t,{LT:function(){return l},_1:function(){return i},h8:function(){return a},r4:function(){return n}});let o=(0,r(2304).oM)({name:"user",initialState:{user:null,billingPeriod:"month"},reducers:{getUser:(e,t)=>{console.log(e.user)},createUser:(e,t)=>{e.user=t.payload},deleteUser:e=>{e.user=null},setBillingPeriod:(e,t)=>{e.billingPeriod=t.payload}}}),{getUser:s,createUser:n,deleteUser:a,setBillingPeriod:i}=o.actions,l=e=>e.user.billingPeriod;t.ZP=o.reducer},4802:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var o=r(3910),s=r(5504);function n(){let e=s.env.NEXT_PUBLIC_SUPABASE_URL??"",t=s.env.NEXT_PUBLIC_SUPABASE_KEY??"";return(0,o.AY)(e,t)}},6302:function(){}},function(e){e.O(0,[458,859,256,469,111,293,997,744],function(){return e(e.s=3967)}),_N_E=e.O()}]);