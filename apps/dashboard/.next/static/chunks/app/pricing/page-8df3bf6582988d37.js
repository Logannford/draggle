(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{3260:function(){},4979:function(e,t,a){Promise.resolve().then(a.bind(a,9199))},9199:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var i=a(7573),n=a(7653),r=a(7439),l=a(2388),s=a(5861),o=a(8250),c=a(3552);let d=({productPrice:e})=>{let t=(0,o.useStripe)(),a=(0,o.useElements)(),[r,s]=(0,n.useState)(!1),d=async e=>{if(s(!0),e.preventDefault(),!t||!a)return;let i=await t.confirmPayment({elements:a,confirmParams:{return_url:window.location.href}});return console.log(i),s(!1),i};return(0,i.jsxs)("form",{onSubmit:d,className:"p-5 flex flex-col gap-y-2",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,i.jsxs)("h3",{className:"text-2xl font-bold",children:["Payment: \xa3",e/100]}),(0,i.jsx)(o.PaymentElement,{})]}),(0,i.jsx)(l.z,{type:"submit",disabled:!t,children:r?(0,i.jsx)(c.BGW,{className:"w-3 h-3 animate-spin"}):"Submit"})]})};var u=a(2682);let f=async(e,t,a)=>{if(!e||!e.id)return Promise.reject("Invalid user");try{let i=await a.invoices.create({customer:e.id,description:"Test Invoice",currency:"gbp",auto_advance:!1});await a.invoiceItems.create({invoice:null==i?void 0:i.id,customer:null==e?void 0:e.id,unit_amount:t,currency:"gbp",quantity:1});let n=await a.invoices.finalizeInvoice(i.id,{auto_advance:!0}),r=null==n?void 0:n.payment_intent;if("string"!=typeof r)return null;return await a.paymentIntents.retrieve(r),(await a.paymentIntents.update(r,{metadata:{email:null==e?void 0:e.email,amount:t},receipt_email:null==e?void 0:e.email})).client_secret}catch(e){return console.error(e),Promise.reject(e)}},m=async(e,t)=>{try{let a=await t.customers.list({email:e,limit:1});if(a.data.length)return a.data[0];return null}catch(e){return console.error(e),Promise.reject(e)}},x=async(e,t)=>{try{return await t.customers.create(e)}catch(e){return Promise.reject(e)}};var p=a(5504);let h=new u.Z(p.env.NEXT_PUBLIC_STRIPE_SECRET_KEY,{apiVersion:"2023-10-16"}),v=async(e,t)=>{var a;if(!t)throw Error("No plan provided.");let i=null,n=await m(e,h);if(n&&(i=n),!n)try{if(!(i=await x({email:e},h)))return null}catch(e){console.error(e)}if(!t||!i)return null;let r=await f(i,null===(a=t.default_price)||void 0===a?void 0:a.unit_amount,h);return r?{invoice:r,paymentPrice:t.default_price.unit_amount}:null};var g=a(4824),b=a(4802),y=a(5504);let j=(0,g.J)(y.env.NEXT_PUBLIC_STRIPE_PUBLIC_KEY),w=async e=>{let{data:t}=await (0,b.e)().auth.getUser(),a=t.user,i=await v((null==a?void 0:a.email)??"logan@hiyield.co.uk",e);return i&&i.invoice?i:null};function N({product:e}){let[t,a]=(0,n.useState)({}),[r,u]=(0,n.useState)(""),f=async e=>{a(t=>({...t,[e.id]:!0}));try{let t=await w(e);if(!t)return;u(t.invoice)}catch(e){console.error(e)}a(t=>({...t,[e.id]:!1}))};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Vq,{children:[(0,i.jsx)(s.hg,{asChild:!0,children:(0,i.jsx)(l.z,{onClick:async()=>await f(e),className:"flex gap-x-2 min-w-[84px] duration-300 ease-in-out ",variant:e.metadata.mostPopular?"secondary":"default",children:t[e.id]?(0,i.jsx)(c.BGW,{className:"w-3 h-3 animate-spin"}):"Buy now"})}),r?(0,i.jsx)(s.cZ,{showCloseButton:!0,children:(0,i.jsx)(o.Elements,{stripe:j,options:{clientSecret:r},children:(0,i.jsx)(d,{productPrice:e.default_price.unit_amount??0})})}):""]})})}var _=a(7118);function E({product:e,isLoading:t,billingPeriod:a}){var n;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"     flex flex-col bg-electric-violet-900 p-8 border border-white/20     w-80 justify-between relative rounded-xl min-h-full h-full    ",children:(0,i.jsx)("div",{className:"flex flex-col justify-between h-full gap-y-8",children:(0,i.jsxs)("div",{className:"flex flex-col gap-y-6 h-full",children:[(0,i.jsx)("div",{className:"flex flex-col gap-y-2 w-full",children:(0,i.jsxs)("div",{className:"flex flex-col gap-y-1 border-b border-black-50 pb-6",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold font-poppins",children:e.name}),e.metadata.mostPopular&&(0,i.jsxs)("span",{className:" text-white text-[0.5rem] font-bold h-min animate-shimmer py-1 px-2 border border-electric-violet-300 rounded-full font-poppins flex gap-x-1 items-center bg-electric-violet-500 justify-center bg-[linear-gradient(110deg,#6725F2,45%,#8A5DDE,55%,#6725F2)]  bg-[length:200%_100%] transition-colors focus:outline-none focus:ring-2  focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-50 ",children:[(0,i.jsx)(_.U,{className:"size-2 text-yellow-400"}),"Recommended"]})]}),(0,i.jsxs)("div",{className:"flex gap-x-1 items-center",children:[(0,i.jsxs)("div",{className:"flex gap-x-1 items-center",children:["\xa3",t?(0,i.jsx)(c.BGW,{className:"w-3 h-3 animate-spin"}):(0,i.jsx)("span",{className:"text-4xl font-kanit",children:(null===(n=e.default_price)||void 0===n?void 0:n.unit_amount)?e.default_price.unit_amount/100:0})]}),(0,i.jsxs)("span",{className:"text-xs mt-2",children:["/ ",a]})]}),(0,i.jsx)("p",{className:"text-xs font-kanit",children:e.description})]})}),(0,i.jsxs)("div",{className:"flex flex-col gap-y-6 h-full justify-between",children:[(0,i.jsx)("div",{className:"flex flex-col gap-y-3 font-poppins",children:e.features.map(t=>(0,i.jsxs)("div",{className:"flex gap-x-2 text-xs items-center",children:[(0,i.jsx)(c.nQG,{className:"w-4 h-4 text-electric-violet-500"}),(0,i.jsx)("span",{children:t.name})]},e.id+t.name))}),(0,i.jsx)(N,{product:e},e.id)]})]})})},e.id)})}var P=a(5237),k=a(6827),T=a(8591);let S=({tabs:e,containerClassName:t,activeTabClassName:a,tabClassName:l})=>{let s=(0,k.T)(),[o,c]=(0,n.useState)(e[0]),d=e=>{s((0,T._1)(e))};return(0,i.jsx)("div",{className:(0,P.cn)("flex flex-row items-center justify-start [perspective:1000px] relative overflow-auto sm:overflow-visible no-visible-scrollbar max-w-full w-full",t),children:e.map(e=>(0,i.jsxs)("button",{onClick:()=>{c(e),d(e.value)},className:(0,P.cn)("rounded-full",l),style:{transformStyle:"preserve-3d"},children:[o.value===e.value&&(0,i.jsx)(r.E.div,{layoutId:"clickedbuttonn",transition:{type:"spring",bounce:.3,duration:.6},className:(0,P.cn)("absolute inset-0 bg-gray-200 dark:bg-zinc-800 rounded-full ",a)}),(0,i.jsx)("span",{className:"relative block text-black dark:text-white",children:e.title})]},e.title))})};function C({children:e,containerClassName:t,className:a,as:l="button",duration:s=1,clockwise:o=!0,...c}){let[d,u]=(0,n.useState)(!1),[f,m]=(0,n.useState)("TOP"),x=e=>{let t=["TOP","LEFT","BOTTOM","RIGHT"],a=t.indexOf(e),i=o?(a-1+t.length)%t.length:(a+1)%t.length;return t[i]},p={TOP:"radial-gradient(20.7% 50% at 50% 0%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)",LEFT:"radial-gradient(16.6% 43.1% at 0% 50%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)",BOTTOM:"radial-gradient(20.7% 50% at 50% 100%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)",RIGHT:"radial-gradient(16.2% 41.199999999999996% at 100% 50%, hsl(0, 0%, 100%) 0%, rgba(255, 255, 255, 0) 100%)"};return(0,n.useEffect)(()=>{if(!d){let e=setInterval(()=>{m(e=>x(e))},1e3*s);return()=>clearInterval(e)}},[d]),(0,i.jsxs)(l,{onMouseEnter:e=>{u(!0)},onMouseLeave:()=>u(!1),className:(0,P.cn)("relative flex rounded-full border  content-center bg-black/20 hover:bg-black/10 transition duration-500 dark:bg-white/20 items-center flex-col flex-nowrap gap-10 h-min justify-center overflow-visible p-px decoration-clone w-fit",t),...c,children:[(0,i.jsx)("div",{className:(0,P.cn)("w-auto text-white z-10 bg-black px-4 py-2 rounded-[inherit]",a),children:e}),(0,i.jsx)(r.E.div,{className:(0,P.cn)("flex-none inset-0 overflow-hidden absolute z-0 rounded-[inherit]"),style:{filter:"blur(2px)",position:"absolute",width:"100%",height:"100%"},initial:{background:p[f]},animate:{background:d?[p[f],"radial-gradient(75% 181.15942028985506% at 50% 50%, #3275F8 0%, rgba(255, 255, 255, 0) 100%)"]:p[f]},transition:{ease:"linear",duration:s??1}}),(0,i.jsx)("div",{className:"bg-black absolute z-1 flex-none inset-[2px] rounded-[100px]"})]})}var I=a(5504);let B=new u.Z(I.env.NEXT_PUBLIC_STRIPE_SECRET_KEY,{apiVersion:"2023-10-16"}),z=async(e="month")=>{if(!B)return Promise.reject("Stripe is not available");let t=await B.products.list({active:!0,limit:10});return t?((await B.prices.list({active:!0,limit:10,expand:["data.product"],recurring:{interval:e}})).data.forEach(e=>{let a=e.product.id,i=t.data.find(e=>e.id===a);i&&(i.default_price=e)}),t.data.sort((e,t)=>e.default_price&&t.default_price?e.default_price.unit_amount-t.default_price.unit_amount:0),Promise.resolve({products:t.data})):Promise.reject("No products found")};function U(){let e=(0,k.C)(T.LT),[t,a]=(0,n.useState)(null),[l,s]=(0,n.useState)(!0),o=async(e="month")=>{s(!0),a(await z(e)),s(!1)};return(0,n.useEffect)(()=>{o()},[]),(0,n.useEffect)(()=>{o(e)},[e]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex flex-col h-full gap-y-10 text-white py-20",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-y-6 w-full items-center",children:[(0,i.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"flex gap-x-2 items-center",children:(0,i.jsx)(C,{containerClassName:"rounded-full",className:"bg-transparent border-none py-1 px-2.5 text-xs font-poppins",children:"Pricing"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,i.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,i.jsxs)("h3",{className:"font-poppins text-5xl font-bold text-center",children:["Plans that grow with ",(0,i.jsx)("br",{})," your business"]})}),(0,i.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:(0,i.jsx)("h4",{className:"font-poppins text-sm text-center text-white/60",children:"Select from a range of payment plans to best suit your businesses needs."})})]}),(0,i.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:(0,i.jsx)("div",{className:"mt-5 bg-electric-violet-900 rounded-2xl p-1 border border-white/20",children:(0,i.jsx)(S,{tabs:[{title:"Monthly",value:"month"},{title:"Yearly",value:"year"}],tabClassName:"[&>span]:!text-white py-2 px-12",activeTabClassName:"bg-electric-violet-500 !text-white border border-electric-violet-300 rounded-xl"})})})]}),(0,i.jsx)("div",{className:"flex gap-x-10 items-center justify-center self-center",children:(0,i.jsx)("div",{className:`grid w-full gap-x-8 grid-cols-${null==t?void 0:t.products.length}`,children:null==t?void 0:t.products.map((t,a)=>(0,i.jsx)(r.E.div,{className:"min-h-full",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*a},children:(0,i.jsx)(E,{product:t,isLoading:l,billingPeriod:e},t.id)},t.id))})})]})})}},2388:function(e,t,a){"use strict";a.d(t,{z:function(){return u}});var i=a(7573),n=a(7653),r=a(5511),l=a(7521),s=a(7118),o=a(7439),c=a(5237);let d=(0,l.j)("relative w-full inline-flex items-center font-kanit justify-center whitespace-nowrap rounded-2xl hover:rounded-xl duration-300 text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"border-2 border-electric-violet-300 hover:bg-electric-violet-500 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-electric-violet-500 hover:bg-electric-violet-600 text-white border-2 border-electric-violet-300",tertiary:"bg-electric-violet-500 text-white hover:bg-white hover:text-black duration-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef(({className:e,variant:t,size:a,asChild:n=!1,special:l,...u},f)=>{let m=n?r.g7:"button";return(0,i.jsx)("div",{className:l?"relative w-full":"",children:(0,i.jsxs)(o.E.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[(0,i.jsx)(m,{className:(0,c.cn)(d({variant:t,size:a,className:e})),ref:f,...u}),l?(0,i.jsx)(s.U,{className:"absolute -top-2.5 right-2 size-6 text-yellow-400 "}):""]})})});u.displayName="Button"},5861:function(e,t,a){"use strict";a.d(t,{$N:function(){return m},Vq:function(){return o},cZ:function(){return f},hg:function(){return c}});var i=a(7573),n=a(7653),r=a(7472),l=a(7037),s=a(5237);let o=r.fC,c=r.xz,d=r.h_;r.x8;let u=n.forwardRef(({className:e,...t},a)=>(0,i.jsx)(r.aV,{ref:a,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=r.aV.displayName;let f=n.forwardRef(({showCloseButton:e=!0,className:t,children:a,...n},o)=>(0,i.jsxs)(d,{children:[(0,i.jsx)(u,{}),(0,i.jsxs)(r.VY,{ref:o,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[a,e?(0,i.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]}):""]})]}));f.displayName=r.VY.displayName;let m=n.forwardRef(({className:e,...t},a)=>(0,i.jsx)(r.Dx,{ref:a,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));m.displayName=r.Dx.displayName,n.forwardRef(({className:e,...t},a)=>(0,i.jsx)(r.dk,{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...t})).displayName=r.dk.displayName},7118:function(e,t,a){"use strict";a.d(t,{U:function(){return n}});var i=a(7573);function n(e){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M5.398 10.807a1.039 1.039 0 0 0 1.204-.003c.178-.13.313-.31.387-.518l.447-1.373c.115-.344.308-.657.564-.914a2.35 2.35 0 0 1 .913-.565l1.391-.451a1.047 1.047 0 0 0 .645-.67a1.038 1.038 0 0 0-.689-1.31l-1.375-.447a2.338 2.338 0 0 1-1.48-1.477l-.452-1.388a1.043 1.043 0 0 0-1.717-.39a1.054 1.054 0 0 0-.256.407l-.457 1.4a2.323 2.323 0 0 1-1.44 1.449l-1.391.448a1.061 1.061 0 0 0-.644.67a1.051 1.051 0 0 0 .144.918c.128.18.309.315.517.386l1.374.445a2.331 2.331 0 0 1 1.481 1.488l.452 1.391c.072.204.206.38.382.504m6.137 4.042a.8.8 0 0 0 .926.002a.803.803 0 0 0 .3-.4l.248-.762a1.066 1.066 0 0 1 .68-.68l.772-.252a.793.793 0 0 0 .531-.64a.796.796 0 0 0-.554-.881l-.764-.249a1.075 1.075 0 0 1-.68-.678l-.252-.773a.784.784 0 0 0-.293-.39a.796.796 0 0 0-1.03.085a.8.8 0 0 0-.195.315l-.247.762a1.071 1.071 0 0 1-.665.679l-.773.252a.797.797 0 0 0-.543.762a.799.799 0 0 0 .551.756l.763.247c.159.054.304.143.422.261c.119.119.207.263.258.422l.253.774a.8.8 0 0 0 .292.388"})})}},6827:function(e,t,a){"use strict";a.d(t,{C:function(){return r},T:function(){return n}});var i=a(4953);let n=i.I0,r=i.v9},5237:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var i=a(4115),n=a(8352);function r(...e){return(0,n.m6)((0,i.W)(e))}},8591:function(e,t,a){"use strict";a.d(t,{LT:function(){return o},_1:function(){return s},h8:function(){return l},r4:function(){return r}});let i=(0,a(2304).oM)({name:"user",initialState:{user:null,billingPeriod:"month"},reducers:{getUser:(e,t)=>{console.log(e.user)},createUser:(e,t)=>{e.user=t.payload},deleteUser:e=>{e.user=null},setBillingPeriod:(e,t)=>{e.billingPeriod=t.payload}}}),{getUser:n,createUser:r,deleteUser:l,setBillingPeriod:s}=i.actions,o=e=>e.user.billingPeriod;t.ZP=i.reducer},4802:function(e,t,a){"use strict";a.d(t,{e:function(){return r}});var i=a(3910),n=a(5504);function r(){let e=n.env.NEXT_PUBLIC_SUPABASE_URL??"",t=n.env.NEXT_PUBLIC_SUPABASE_KEY??"";return(0,i.AY)(e,t)}}},function(e){e.O(0,[458,256,469,833,293,997,744],function(){return e(e.s=4979)}),_N_E=e.O()}]);